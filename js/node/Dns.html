<!DOCTYPE html>
<html lang="en"><!-- use theme color or fallback -->
<!--use textcolor from settings, otherwise create a contrasting color to theme color-->
<head><meta charset="utf-8"/><link href="../../bootstrap/css/bootstrap.min.css" rel="stylesheet"/><link href="../../bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet"/><link href="../../bootstrap/css/bootstrap-select.min.css" rel="stylesheet"/><link href="https://fonts.googleapis.com/css?family=Open+Sans:400,700,700italic,400italic" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:200,600,600italic,400" rel="stylesheet" type="text/css"/><link href="https://netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.css" rel="stylesheet" type="text/css"/><script src="../../jquery-1.9.1.min.js"></script><script src="../../bootstrap/js/bootstrap.min.js"></script><script src="../../bootstrap/js/bootstrap-select.min.js"></script><link href="../../styles.css" rel="stylesheet"/><link href="../../extra-styles.css" rel="stylesheet"/><link href="../../haxe-nav.css" rel="stylesheet"/><script type="text/javascript">var dox = {rootPath: "../../",platforms: ["js"]};</script><script type="text/javascript" src="../../nav.js"></script><script type="text/javascript" src="../../index.js"></script><link rel="icon" href="../../favicon.ico" type="image/x-icon"></link><title>js.node.Dns - HXNODEJS - API documentation</title><meta name="description" content="This module contains functions that belong to two different categories:"/></head><body><style>
.navbar .brand {
	display: inline-block;
	float: none;
	text-shadow: 0 0 0 transparent;
</style><nav class="nav"><div class="navbar"><div class="navbar-inner" style="background:#EEEEEE; border-bottom:1px solid rgba(0,0,0,.09)"><div class="container"><a class="brand" href="../../"><img alt="" src="http://take.ms/dlXH9"/></a><a class="brand" style="color:#555555" href="../../">HXNODEJS - API documentation</a></div></div></div></nav><div class="container main-content"><div class="row-fluid"><div class="span3"><div class="well sidebar-nav"><form class="form-search" id="searchForm"><div class="input-prepend input-block-level"><span class="add-on"><i class="icon-search"></i></span><input id="search" type="text" placeholder="Filter" autocomplete="off"/></div></form></div><div class="well sidebar-nav"><div id="nav"></div></div></div><div class="span9"><div class="page-header"><span class="viewsource"><a href="https://github.com/HaxeFoundation/hxnodejs/blob/master/src/js/node/Dns.hx" class="btn btn-medium"><i class="fa fa-eye"></i> View source</a></span><h1><small>class</small> Dns</h1><h4><small>package <a href="../../js/node/index.html">js.node</a></small></h4>    </div><div class="body"><div class="doc doc-main"><div class="indent"><p>This module contains functions that belong to two different categories:</p>
<p>1) Functions that use the underlying operating system facilities to perform name resolution,
and that do not necessarily do any network communication. This category contains only one function: <code>lookup</code>.
Developers looking to perform name resolution in the same way that other applications on the same operating
system behave should use <code>lookup</code>.</p>
<p>2) Functions that connect to an actual DNS server to perform name resolution,
and that always use the network to perform DNS queries. This category contains all functions in the dns module but <code>lookup</code>.
These functions do not use the same set of configuration files than what <code>lookup</code> uses. For instance,
they do not use the configuration from /etc/hosts. These functions should be used by developers who do not want
to use the underlying operating system's facilities for name resolution, and instead want to always perform DNS queries.</p></div></div><h3 class="section">Static variables</h3><div class="fields"><div class="field "><a name="ADDRCONFIG"></a><h3><p class="anchor"><code><span class="label">static</span><span class="label">read only</span><a href="../../js/node/Dns.html#ADDRCONFIG"><span class="identifier">ADDRCONFIG</span></a>:<a class="type" title="The standard Int type." href="../../Int.html">Int</a></code></p></h3><div class="doc"><p>A flag passed in the <code>hints</code> argument of <code>lookup</code> method.</p>
<p>Returned address types are determined by the types of addresses supported by the current system.
For example, IPv4 addresses are only returned if the current system has at least one IPv4 address configured.
Loopback addresses are not considered.</p></div></div><div class="field "><a name="V4MAPPED"></a><h3><p class="anchor"><code><span class="label">static</span><span class="label">read only</span><a href="../../js/node/Dns.html#V4MAPPED"><span class="identifier">V4MAPPED</span></a>:<a class="type" title="The standard Int type." href="../../Int.html">Int</a></code></p></h3><div class="doc"><p>A flag passed in the <code>hints</code> argument of <code>lookup</code> method.</p>
<p>If the IPv6 family was specified, but no IPv6 addresses were found, then return IPv4 mapped IPv6 addresses.
Note that it is not supported on some operating systems (e.g FreeBSD 10.1).</p></div></div></div><h3 class="section">Static methods</h3><div class="fields"><div class="field "><a name="lookup"></a><h3><p class="anchor"><code><span class="label">static</span><a href="#lookup"><span class="identifier">lookup</span></a> (<span style="white-space:nowrap">hostname:<a class="type" title="The basic String class." href="../../String.html">String</a>,</span> <span style="white-space:nowrap">callback:<a class="type" title="" href="../../js/node/DnsLookupCallbackSingle.html">DnsLookupCallbackSingle</a></span>):<a class="type" title="The standard Void type." href="../../Void.html">Void</a></code></p><p class="anchor"><code><span class="label">static</span><a href="#lookup"><span class="identifier">lookup</span></a> (<span style="white-space:nowrap">hostname:<a class="type" title="The basic String class." href="../../String.html">String</a>,</span> <span style="white-space:nowrap">options:<a class="type" title="An abstract type allowing values to be either of T1 or T2 type." href="../../haxe/extern/EitherType.html">EitherType</a>&lt;<a class="type" title="Enumeration of possible Int options values for Dns." href="../../js/node/DnsAddressFamily.html">DnsAddressFamily</a>, <a class="type" title="Type of the options argument for Dns." href="../../js/node/DnsLookupOptions.html">DnsLookupOptions</a>&gt;,</span> <span style="white-space:nowrap">callback:<a class="type" title="An abstract type allowing values to be either of T1 or T2 type." href="../../haxe/extern/EitherType.html">EitherType</a>&lt;<a class="type" title="" href="../../js/node/DnsLookupCallbackSingle.html">DnsLookupCallbackSingle</a>, <a class="type" title="" href="../../js/node/DnsLookupCallbackAll.html">DnsLookupCallbackAll</a>&gt;</span>):<a class="type" title="The standard Void type." href="../../Void.html">Void</a></code></p></h3><div class="doc"><p>Resolves a <code>hostname</code> (e.g. 'google.com') into the first found A (IPv4) or AAAA (IPv6) record.</p>
<p>If <code>options</code> is not provided, then IP v4 and v6 addresses are both valid.</p>
<p>The <code>family</code> can be the integer 4 or 6. Defaults to null that indicates both Ip v4 and v6 address family.</p>
<p>The <code>callback</code> has arguments (err, address, family).
The <code>address</code> argument is a string representation of a IP v4 or v6 address.
The <code>family</code> argument is either the integer 4 or 6 and denotes the family
of address (not necessarily the value initially passed to lookup).</p>
<p>With the <code>all</code> option set, the arguments change to (err, addresses), with addresses being an array of objects
with the properties <code>address</code> and <code>family</code>.</p>
<p>Keep in mind that <code>err.code</code> will be set to 'ENOENT' not only when the hostname does not exist but
also when the lookup fails in other ways such as no available file descriptors.</p>
<p><code>lookup</code> doesn't necessarily have anything to do with the DNS protocol. It's only an operating system facility
that can associate name with addresses, and vice versa.</p></div></div><div class="field "><a name="lookupService"></a><h3><p class="anchor"><code><span class="label">static</span><a href="#lookupService"><span class="identifier">lookupService</span></a> (<span style="white-space:nowrap">address:<a class="type" title="The basic String class." href="../../String.html">String</a>,</span> <span style="white-space:nowrap">port:<a class="type" title="The standard Int type." href="../../Int.html">Int</a>,</span> <span style="white-space:nowrap">callback:<a class="type" title="" href="../../js/node/DnsError.html">DnsError</a>&nbsp;&#8209;&gt;&nbsp;<a class="type" title="The basic String class." href="../../String.html">String</a>&nbsp;&#8209;&gt;&nbsp;<a class="type" title="The basic String class." href="../../String.html">String</a>&nbsp;&#8209;&gt;&nbsp;<a class="type" title="The standard Void type." href="../../Void.html">Void</a></span>):<a class="type" title="The standard Void type." href="../../Void.html">Void</a></code></p></h3><div class="doc"><p>Resolves the given <code>address</code> and <code>port</code> into a hostname and service using <code>getnameinfo</code>.</p>
<p>The <code>callback</code> has arguments (err, hostname, service).
The <code>hostname</code> and <code>service</code> arguments are strings (e.g. 'localhost' and 'http' respectively).</p>
<p>On error, <code>err</code> is an Error object, where <code>err.code</code> is the error code.</p></div></div><div class="field "><a name="resolve"></a><h3><p class="anchor"><code><span class="label">static</span><a href="#resolve"><span class="identifier">resolve</span></a> (<span style="white-space:nowrap">hostname:<a class="type" title="The basic String class." href="../../String.html">String</a>,</span> <span style="white-space:nowrap">rrtype:<a class="type" title="Enumeration of possible rrtype value for Dns." href="../../js/node/DnsRrtype.html">DnsRrtype</a>,</span> <span style="white-space:nowrap">callback:<a class="type" title="" href="../../js/node/DnsError.html">DnsError</a>&nbsp;&#8209;&gt;&nbsp;<a class="type" title="An Array is a storage for values." href="../../Array.html">Array</a>&lt;<a class="type" title="" href="../../js/node/DnsResolvedAddress.html">DnsResolvedAddress</a>&gt;&nbsp;&#8209;&gt;&nbsp;<a class="type" title="The standard Void type." href="../../Void.html">Void</a></span>):<a class="type" title="The standard Void type." href="../../Void.html">Void</a></code></p><p class="anchor"><code><span class="label">static</span><a href="#resolve"><span class="identifier">resolve</span></a> (<span style="white-space:nowrap">hostname:<a class="type" title="The basic String class." href="../../String.html">String</a>,</span> <span style="white-space:nowrap">callback:<a class="type" title="" href="../../js/node/DnsError.html">DnsError</a>&nbsp;&#8209;&gt;&nbsp;<a class="type" title="An Array is a storage for values." href="../../Array.html">Array</a>&lt;<a class="type" title="" href="../../js/node/DnsResolvedAddress.html">DnsResolvedAddress</a>&gt;&nbsp;&#8209;&gt;&nbsp;<a class="type" title="The standard Void type." href="../../Void.html">Void</a></span>):<a class="type" title="The standard Void type." href="../../Void.html">Void</a></code></p></h3><div class="doc"><p>Resolves a <code>hostname</code> (e.g. 'google.com') into an array of the record types specified by <code>rrtype</code>.</p>
<p>The <code>callback</code> has arguments (err, addresses).
The type of each item in <code>addresses</code> is determined by the record type,
and described in the documentation for the corresponding lookup methods below.</p>
<p>On error, <code>err</code> is an Error object, where <code>err.code</code> is the error code.</p></div></div><div class="field "><a name="resolve4"></a><h3><p class="anchor"><code><span class="label">static</span><a href="#resolve4"><span class="identifier">resolve4</span></a> (<span style="white-space:nowrap">hostname:<a class="type" title="The basic String class." href="../../String.html">String</a>,</span> <span style="white-space:nowrap">callback:<a class="type" title="" href="../../js/node/DnsError.html">DnsError</a>&nbsp;&#8209;&gt;&nbsp;<a class="type" title="An Array is a storage for values." href="../../Array.html">Array</a>&lt;<a class="type" title="The basic String class." href="../../String.html">String</a>&gt;&nbsp;&#8209;&gt;&nbsp;<a class="type" title="The standard Void type." href="../../Void.html">Void</a></span>):<a class="type" title="The standard Void type." href="../../Void.html">Void</a></code></p></h3><div class="doc"><p>The same as <code>resolve</code>, but only for IPv4 queries (A records).
<code>addresses</code> is an array of IPv4 addresses (e.g. ['74.125.79.104', '74.125.79.105', '74.125.79.106']).</p></div></div><div class="field "><a name="resolve6"></a><h3><p class="anchor"><code><span class="label">static</span><a href="#resolve6"><span class="identifier">resolve6</span></a> (<span style="white-space:nowrap">hostname:<a class="type" title="The basic String class." href="../../String.html">String</a>,</span> <span style="white-space:nowrap">callback:<a class="type" title="" href="../../js/node/DnsError.html">DnsError</a>&nbsp;&#8209;&gt;&nbsp;<a class="type" title="An Array is a storage for values." href="../../Array.html">Array</a>&lt;<a class="type" title="The basic String class." href="../../String.html">String</a>&gt;&nbsp;&#8209;&gt;&nbsp;<a class="type" title="The standard Void type." href="../../Void.html">Void</a></span>):<a class="type" title="The standard Void type." href="../../Void.html">Void</a></code></p></h3><div class="doc"><p>The same as <code>resolve4</code> except for IPv6 queries (an AAAA query).</p></div></div><div class="field "><a name="resolveMx"></a><h3><p class="anchor"><code><span class="label">static</span><a href="#resolveMx"><span class="identifier">resolveMx</span></a> (<span style="white-space:nowrap">hostname:<a class="type" title="The basic String class." href="../../String.html">String</a>,</span> <span style="white-space:nowrap">callback:<a class="type" title="" href="../../js/node/DnsError.html">DnsError</a>&nbsp;&#8209;&gt;&nbsp;<a class="type" title="An Array is a storage for values." href="../../Array.html">Array</a>&lt;<a class="type" title="Types of address data returned by resolve functions." href="../../js/node/DnsResolvedAddressMX.html">DnsResolvedAddressMX</a>&gt;&nbsp;&#8209;&gt;&nbsp;<a class="type" title="The standard Void type." href="../../Void.html">Void</a></span>):<a class="type" title="The standard Void type." href="../../Void.html">Void</a></code></p></h3><div class="doc"><p>The same as <code>resolve</code>, but only for mail exchange queries (MX records).
<code>addresses</code> is an array of MX records, each with a priority
and an exchange attribute (e.g. [{'priority': 10, 'exchange': 'mx.example.com'},...]).</p></div></div><div class="field "><a name="resolveTxt"></a><h3><p class="anchor"><code><span class="label">static</span><a href="#resolveTxt"><span class="identifier">resolveTxt</span></a> (<span style="white-space:nowrap">hostname:<a class="type" title="The basic String class." href="../../String.html">String</a>,</span> <span style="white-space:nowrap">callback:<a class="type" title="" href="../../js/node/DnsError.html">DnsError</a>&nbsp;&#8209;&gt;&nbsp;<a class="type" title="An Array is a storage for values." href="../../Array.html">Array</a>&lt;<a class="type" title="An Array is a storage for values." href="../../Array.html">Array</a>&lt;<a class="type" title="The basic String class." href="../../String.html">String</a>&gt;&gt;&nbsp;&#8209;&gt;&nbsp;<a class="type" title="The standard Void type." href="../../Void.html">Void</a></span>):<a class="type" title="The standard Void type." href="../../Void.html">Void</a></code></p></h3><div class="doc"><p>The same as <code>resolve</code>, but only for text queries (TXT records).
<code>addresses</code> is a 2-d array of the text records available for hostname (e.g., [ ['v=spf1 ip4:0.0.0.0 ', '~all' ] ]).
Each sub-array contains TXT chunks of one record. Depending on the use case, the could be either joined together
or treated separately.</p></div></div><div class="field "><a name="resolveSrv"></a><h3><p class="anchor"><code><span class="label">static</span><a href="#resolveSrv"><span class="identifier">resolveSrv</span></a> (<span style="white-space:nowrap">hostname:<a class="type" title="The basic String class." href="../../String.html">String</a>,</span> <span style="white-space:nowrap">callback:<a class="type" title="" href="../../js/node/DnsError.html">DnsError</a>&nbsp;&#8209;&gt;&nbsp;<a class="type" title="An Array is a storage for values." href="../../Array.html">Array</a>&lt;<a class="type" title="" href="../../js/node/DnsResolvedAddressSRV.html">DnsResolvedAddressSRV</a>&gt;&nbsp;&#8209;&gt;&nbsp;<a class="type" title="The standard Void type." href="../../Void.html">Void</a></span>):<a class="type" title="The standard Void type." href="../../Void.html">Void</a></code></p></h3><div class="doc"><p>The same as <code>resolve</code>, but only for service records (SRV records).
<code>addresses</code> is an array of the SRV records available for <code>hostname</code>.
Properties of SRV records are priority, weight, port, and name
(e.g., [{'priority': 10, 'weight': 5, 'port': 21223, 'name': 'service.example.com'}, ...]).</p></div></div><div class="field "><a name="resolvePtr"></a><h3><p class="anchor"><code><span class="label">static</span><a href="#resolvePtr"><span class="identifier">resolvePtr</span></a> (<span style="white-space:nowrap">hostname:<a class="type" title="The basic String class." href="../../String.html">String</a>,</span> <span style="white-space:nowrap">callback:<a class="type" title="" href="../../js/node/DnsError.html">DnsError</a>&nbsp;&#8209;&gt;&nbsp;<a class="type" title="An Array is a storage for values." href="../../Array.html">Array</a>&lt;<a class="type" title="The basic String class." href="../../String.html">String</a>&gt;&nbsp;&#8209;&gt;&nbsp;<a class="type" title="The standard Void type." href="../../Void.html">Void</a></span>):<a class="type" title="The standard Void type." href="../../Void.html">Void</a></code></p></h3><div class="doc"><p>Uses the DNS protocol to resolve pointer records (PTR records) for the <code>hostname</code>.
The addresses argument passed to the callback function will be an array of strings containing the reply records.</p></div></div><div class="field "><a name="resolveSoa"></a><h3><p class="anchor"><code><span class="label">static</span><a href="#resolveSoa"><span class="identifier">resolveSoa</span></a> (<span style="white-space:nowrap">hostname:<a class="type" title="The basic String class." href="../../String.html">String</a>,</span> <span style="white-space:nowrap">callback:<a class="type" title="" href="../../js/node/DnsError.html">DnsError</a>&nbsp;&#8209;&gt;&nbsp;<a class="type" title="" href="../../js/node/DnsResolvedAddressSOA.html">DnsResolvedAddressSOA</a>&nbsp;&#8209;&gt;&nbsp;<a class="type" title="The standard Void type." href="../../Void.html">Void</a></span>):<a class="type" title="The standard Void type." href="../../Void.html">Void</a></code></p></h3><div class="doc"><p>The same as <code>resolve</code>, but only for start of authority record queries (SOA record).</p>
<p><code>addresses</code> is an object with the following structure:
{
nsname: 'ns.example.com',
hostmaster: 'root.example.com',
serial: 2013101809,
refresh: 10000,
retry: 2400,
expire: 604800,
minttl: 3600
}</p></div></div><div class="field "><a name="resolveNs"></a><h3><p class="anchor"><code><span class="label">static</span><a href="#resolveNs"><span class="identifier">resolveNs</span></a> (<span style="white-space:nowrap">hostname:<a class="type" title="The basic String class." href="../../String.html">String</a>,</span> <span style="white-space:nowrap">callback:<a class="type" title="" href="../../js/node/DnsError.html">DnsError</a>&nbsp;&#8209;&gt;&nbsp;<a class="type" title="An Array is a storage for values." href="../../Array.html">Array</a>&lt;<a class="type" title="The basic String class." href="../../String.html">String</a>&gt;&nbsp;&#8209;&gt;&nbsp;<a class="type" title="The standard Void type." href="../../Void.html">Void</a></span>):<a class="type" title="The standard Void type." href="../../Void.html">Void</a></code></p></h3><div class="doc"><p>The same as <code>resolve</code>, but only for name server records (NS records).
<code>addresses</code> is an array of the name server records available for hostname (e.g., ['ns1.example.com', 'ns2.example.com']).</p></div></div><div class="field "><a name="resolveCname"></a><h3><p class="anchor"><code><span class="label">static</span><a href="#resolveCname"><span class="identifier">resolveCname</span></a> (<span style="white-space:nowrap">hostname:<a class="type" title="The basic String class." href="../../String.html">String</a>,</span> <span style="white-space:nowrap">callback:<a class="type" title="" href="../../js/node/DnsError.html">DnsError</a>&nbsp;&#8209;&gt;&nbsp;<a class="type" title="An Array is a storage for values." href="../../Array.html">Array</a>&lt;<a class="type" title="The basic String class." href="../../String.html">String</a>&gt;&nbsp;&#8209;&gt;&nbsp;<a class="type" title="The standard Void type." href="../../Void.html">Void</a></span>):<a class="type" title="The standard Void type." href="../../Void.html">Void</a></code></p></h3><div class="doc"><p>The same as <code>resolve</code>, but only for canonical name records (CNAME records).
<code>addresses</code> is an array of the canonical name records available for hostname (e.g., ['bar.example.com']).</p></div></div><div class="field "><a name="reverse"></a><h3><p class="anchor"><code><span class="label">static</span><a href="#reverse"><span class="identifier">reverse</span></a> (<span style="white-space:nowrap">ip:<a class="type" title="The basic String class." href="../../String.html">String</a>,</span> <span style="white-space:nowrap">callback:<a class="type" title="" href="../../js/node/DnsError.html">DnsError</a>&nbsp;&#8209;&gt;&nbsp;<a class="type" title="An Array is a storage for values." href="../../Array.html">Array</a>&lt;<a class="type" title="The basic String class." href="../../String.html">String</a>&gt;&nbsp;&#8209;&gt;&nbsp;<a class="type" title="The standard Void type." href="../../Void.html">Void</a></span>):<a class="type" title="The standard Void type." href="../../Void.html">Void</a></code></p></h3><div class="doc"><p>Reverse resolves an <code>ip</code> address to an array of hostnames.
The <code>callback</code> has arguments (err, hostname).</p></div></div><div class="field "><a name="getServers"></a><h3><p class="anchor"><code><span class="label">static</span><a href="#getServers"><span class="identifier">getServers</span></a> ():<a class="type" title="An Array is a storage for values." href="../../Array.html">Array</a>&lt;<a class="type" title="The basic String class." href="../../String.html">String</a>&gt;</code></p></h3><div class="doc"><p>Returns an array of IP addresses as strings that are currently being used for resolution.</p></div></div><div class="field "><a name="setServers"></a><h3><p class="anchor"><code><span class="label">static</span><a href="#setServers"><span class="identifier">setServers</span></a> (<span style="white-space:nowrap">servers:<a class="type" title="An Array is a storage for values." href="../../Array.html">Array</a>&lt;<a class="type" title="The basic String class." href="../../String.html">String</a>&gt;</span>):<a class="type" title="The standard Void type." href="../../Void.html">Void</a></code></p></h3><div class="doc"><p>Given an array of IP addresses as strings, set them as the servers to use for resolving.</p>
<p>If you specify a port with the address it will be stripped, as the underlying library doesn't support that.</p>
<p>This will throw if you pass invalid input.</p></div></div></div></div></div></div></div><footer class="section site-footer" style="background:#EEEEEE"><div class="container"><div class="copyright"><p style="color:#555555">&copy; 2017 &nbsp;</p></div></div></footer><script src="../..//highlighter.js"></script><link href="../../highlighter.css" rel="stylesheet"/></body></html>